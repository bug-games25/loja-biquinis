<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biqu√≠nis Ver√£o | Moda Praia Sofisticada</title>
    <style>
        /* ESTILOS GERAIS E FONTES */
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@300;400;600&display=swap');
        
        :root {
            --cor-primaria: #ff4081; /* Rosa Vibrante */
            --cor-secundaria: #333;
            --fundo-claro: #fbe4ee; /* ALTERADO PARA ROSA PASTEL */
            --sombra-suave: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: var(--fundo-claro);
            color: var(--cor-secundaria);
            min-height: 100vh;
        }

        /* CABE√áALHO SOFISTICADO (LOGO) */
        header {
            background: white;
            padding: 30px 20px;
            text-align: center;
            border-bottom: 1px solid #eee;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.03);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        h1 {
            font-family: 'Playfair Display', serif;
            font-weight: 700;
            font-size: 2.5rem;
            color: var(--cor-primaria);
            letter-spacing: 3px;
        }

        /* √çCONE DO CARRINHO FLUTUANTE */
        #cart-icon {
            position: fixed;
            top: 30px;
            right: 30px;
            font-size: 24px;
            cursor: pointer;
            z-index: 101;
            padding: 10px;
            background: white;
            border-radius: 50%;
            box-shadow: var(--sombra-suave);
        }
        #cart-count {
            position: absolute;
            top: 0;
            right: 0;
            background: red;
            color: white;
            border-radius: 50%;
            padding: 2px 6px;
            font-size: 12px;
            font-weight: 600;
        }

        /* GRADE DE PRODUTOS */
        .container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            padding: 40px;
            max-width: 1300px;
            margin: 0 auto;
        }
        .product-card {
            background: white;
            border-radius: 8px;
            box-shadow: var(--sombra-suave);
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        }
        .product-card img {
            width: 100%;
            height: 350px;
            object-fit: cover;
            border-radius: 8px 8px 0 0;
        }
        .product-info {
            padding: 15px;
        }
        .product-info h3 {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 5px;
        }
        .product-info p {
            font-weight: 700;
            color: var(--cor-primaria);
            font-size: 1.4rem;
        }

        /* MODAL DE SELE√á√ÉO DE VARIA√á√ÉO (TAMANHO/COR) */
        .modal {
            display: none; 
            position: fixed;
            z-index: 200; 
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.6);
            padding-top: 60px;
        }
        .modal-content {
            background-color: #fefefe;
            margin: 5% auto;
            padding: 30px;
            border-radius: 10px;
            width: 80%;
            max-width: 500px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
            position: relative;
        }
        .close-btn {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }
        .close-btn:hover,
        .close-btn:focus {
            color: var(--cor-secundaria);
            text-decoration: none;
            cursor: pointer;
        }
        .modal-content select {
            width: 100%;
            padding: 10px;
            margin-bottom: 20px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 1rem;
        }
        .modal-content button {
            background: var(--cor-primaria);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 5px;
            cursor: pointer;
            width: 100%;
            font-weight: 600;
            transition: background 0.3s;
        }
        .modal-content button:hover {
            background: #d83471;
        }

        /* CARRINHO LATERAL */
        #cart-sidebar {
            height: 100%;
            width: 0;
            position: fixed;
            z-index: 300;
            top: 0;
            right: 0;
            background-color: white;
            overflow-x: hidden;
            transition: 0.5s;
            box-shadow: -5px 0 15px rgba(0,0,0,0.1);
            padding-top: 60px;
            display: flex;
            flex-direction: column;
        }
        #cart-sidebar.open {
            width: 350px;
        }
        .close-cart-btn {
            position: absolute;
            top: 0;
            right: 25px;
            font-size: 36px;
            margin-left: 50px;
            cursor: pointer;
            color: var(--cor-secundaria);
        }
        #cart-content {
            padding: 20px;
            flex-grow: 1;
            overflow-y: auto;
        }
        #cart-summary {
            padding: 20px;
            border-top: 1px solid #eee;
        }
        #cart-items-list {
            list-style: none;
        }
        .cart-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            padding-bottom: 5px;
            border-bottom: 1px dotted #eee;
            font-size: 0.95rem;
        }
        .item-details span {
            display: block;
            font-weight: 600;
            margin-bottom: 2px;
        }
        .item-details small {
            color: #777;
        }
        .remove-item {
            cursor: pointer;
            color: #dc3545;
            font-size: 0.8rem;
            margin-left: 10px;
        }
        #total-price {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--cor-primaria);
            margin-top: 10px;
            text-align: right;
        }
        
        /* FORMUL√ÅRIO DE ENVIO */
        #shipping-form input {
            width: 100%;
            padding: 10px;
            margin-bottom: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        #checkout-btn {
            background: #4caf50; /* Verde para checkout */
            color: white;
            border: none;
            padding: 15px;
            border-radius: 5px;
            cursor: pointer;
            width: 100%;
            font-size: 1.1rem;
            font-weight: 600;
            transition: background 0.3s;
            margin-top: 15px;
        }
        #checkout-btn:hover {
            background: #43a047;
        }
        #checkout-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        /* RESPONSIVIDADE */
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            #cart-sidebar.open {
                width: 100%; /* Ocupa a tela inteira no mobile */
            }
            #cart-icon {
                top: 20px;
                right: 20px;
            }
        }
    </style>
</head>
<body>

<header>
    <h1>BIQU√çNIS VER√ÉO</h1>
</header>

<div id="cart-icon" onclick="openCart()">
    üõí <span id="cart-count">0</span>
</div>

<div class="container" id="products-container">
    </div>

<div id="variation-modal" class="modal">
    <div class="modal-content">
        <span class="close-btn" onclick="closeModal()">&times;</span>
        <h2 id="modal-product-name"></h2>
        <p>Selecione as op√ß√µes:</p>
        
        <label for="modal-size">Tamanho:</label>
        <select id="modal-size">
            <option value="P">P</option>
            <option value="M" selected>M</option>
            <option value="G">G</option>
            <option value="GG">GG</option>
        </select>

        <label for="modal-color">Cor:</label>
        <select id="modal-color">
            <option value="Azul">Azul</option>
            <option value="Rosa" selected>Rosa</option>
            <option value="Preto">Preto</option>
            <option value="Estampado">Estampado</option>
        </select>
        
        <button onclick="confirmAddToCart()">Adicionar ao Carrinho</button>
    </div>
</div>

<div id="cart-sidebar">
    <a href="javascript:void(0)" class="close-cart-btn" onclick="closeCart()">&times;</a>
    <h2>Seu Carrinho</h2>
    <div id="cart-content">
        <ul id="cart-items-list">
            </ul>
        <p style="text-align: center; color: #777;" id="empty-cart-message">Seu carrinho est√° vazio.</p>
        <div id="cart-summary">
            <h3>Total: <span id="total-price">R$ 0,00</span></h3>
        </div>

        <h3 style="margin-top: 20px; border-top: 1px solid #eee; padding-top: 15px;">Dados de Envio</h3>
        <form id="shipping-form">
            <input type="text" id="name" placeholder="Nome Completo" required>
            <input type="tel" id="whatsapp" placeholder="WhatsApp (DDD + N√∫mero)" required>
            <input type="email" id="email" placeholder="E-mail (Opcional)">
            <input type="text" id="address" placeholder="Rua, N√∫mero" required>
            <input type="text" id="city" placeholder="Cidade / Estado / CEP" required>
        </form>
    </div>
    
    <button id="checkout-btn" onclick="checkout()">Finalizar Compra / Ir para Cakto</button>
</div>

<script>
// --- DADOS DOS PRODUTOS ---
const products = [
    // ATEN√á√ÉO: Ajuste o img para o nome EXATO do arquivo na sua pasta imagens/
    // Se voc√™ n√£o renomeou, a primeira imagem √© a de nome estranho:
    { id: 1, name: "Biqu√≠ni Floral Luxo", price: 79.90, img: "./imagens/3a6f3533-80de-408a-9e89-490e028a5eef (1).jpg", link: "LINK_CAKTO_PRODUTO_1" },
    
    // Se voc√™ renomeou ou adicionou outros, siga o padr√£o:
    { id: 2, name: "Biqu√≠ni Preto Cl√°ssico", price: 99.90, img: "./imagens/biquini2.webp", link: "LINK_CAKTO_PRODUTO_2" },
    { id: 3, name: "Biqu√≠ni Listrado Ver√£o", price: 89.90, img: "./imagens/biquini3.webp", link: "LINK_CAKTO_PRODUTO_3" },
    { id: 4, name: "Biqu√≠ni Neon Vibrante", price: 109.90, img: "./imagens/biquini4.webp", link: "LINK_CAKTO_PRODUTO_4" },
    { id: 5, name: "Biqu√≠ni Rosa Chiclete", price: 69.90, img: "./imagens/biquini5.jpeg", link: "LINK_CAKTO_PRODUTO_5" },
    { id: 6, name: "Biqu√≠ni Verde Mar", price: 79.90, img: "./imagens/biquini6.jpg", link: "LINK_CAKTO_PRODUTO_6" },
    // Adicione os outros produtos (7 ao 15) aqui, seguindo o padr√£o
    { id: 7, name: "Biqu√≠ni Azul Marinho", price: 99.90, img: "./imagens/biquini7.jpg", link: "LINK_CAKTO_PRODUTO_7" },
    { id: 8, name: "Biqu√≠ni Laranja Neon", price: 89.90, img: "./imagens/biquini8.jpeg", link: "LINK_CAKTO_PRODUTO_8" },
    { id: 9, name: "Biqu√≠ni Estampado", price: 109.90, img: "./imagens/biquini9.jpg", link: "LINK_CAKTO_PRODUTO_9" },
    { id: 10, name: "Biqu√≠ni Vermelho Paix√£o", price: 79.90, img: "./imagens/biquini10.webp", link: "LINK_CAKTO_PRODUTO_10" },
    { id: 11, name: "Biqu√≠ni Amarelo Sol", price: 69.90, img: "./imagens/biquini11.webp", link: "LINK_CAKTO_PRODUTO_11" },
    { id: 12, name: "Biqu√≠ni Branco Cl√°ssico", price: 99.90, img: "./imagens/biquini12.webp", link: "LINK_CAKTO_PRODUTO_12" },
    { id: 13, name: "Biqu√≠ni Roxo Lavanda", price: 89.90, img: "./imagens/biquini13.jpg", link: "LINK_CAKTO_PRODUTO_13" },
    { id: 14, name: "Biqu√≠ni Turquesa", price: 109.90, img: "./imagens/biquini14.jpg", link: "LINK_CAKTO_PRODUTO_14" },
    { id: 15, name: "Biqu√≠ni Preto e Branco", price: 79.90, img: "./imagens/biquini15.webp", link: "LINK_CAKTO_PRODUTO_15" },
];

let cart = [];
let selectedProductId = null;

// --- FUN√á√ïES DO CAT√ÅLOGO ---

function renderProducts() {
    const container = document.getElementById('products-container');
    container.innerHTML = '';
    
    products.forEach(p => {
        const div = document.createElement('div');
        div.className = 'product-card';
        div.setAttribute('onclick', `openModal(${p.id})`); // Abre o modal ao clicar
        div.innerHTML = `
            <img src="${p.img}" alt="${p.name}">
            <div class="product-info">
                <h3>${p.name}</h3>
                <p>R$ ${p.price.toFixed(2)}</p>
            </div>
        `;
        container.appendChild(div);
    });
}

// --- FUN√á√ïES DO MODAL DE VARIA√á√ÉO ---

function openModal(productId) {
    selectedProductId = productId;
    const product = products.find(p => p.id === productId);
    document.getElementById('modal-product-name').textContent = product.name;
    document.getElementById('variation-modal').style.display = 'block';
}

function closeModal() {
    document.getElementById('variation-modal').style.display = 'none';
    selectedProductId = null;
}

function confirmAddToCart() {
    if (!selectedProductId) return;

    const product = products.find(p => p.id === selectedProductId);
    const size = document.getElementById('modal-size').value;
    const color = document.getElementById('modal-color').value;
    
    // Cria um ID √∫nico para o item no carrinho (baseado em ID do produto + varia√ß√µes)
    const cartItemId = `${product.id}-${size}-${color}`;
    
    const existingItem = cart.find(item => item.cartId === cartItemId);

    if (existingItem) {
        existingItem.quantity++;
    } else {
        cart.push({
            cartId: cartItemId,
            id: product.id,
            name: product.name,
            price: product.price,
            link: product.link,
            size: size,
            color: color,
            quantity: 1
        });
    }

    closeModal();
    renderCart();
    openCart();
}

// Fecha o modal se o usu√°rio clicar fora dele
window.onclick = function(event) {
    const modal = document.getElementById('variation-modal');
    if (event.target == modal) {
        closeModal();
    }
}

// --- FUN√á√ïES DO CARRINHO LATERAL ---

function openCart() {
    document.getElementById('cart-sidebar').classList.add('open');
}

function closeCart() {
    document.getElementById('cart-sidebar').classList.remove('open');
}

function calculateTotal() {
    return cart.reduce((total, item) => total + (item.price * item.quantity), 0);
}

function removeFromCart(cartId) {
    cart = cart.filter(item => item.cartId !== cartId);
    renderCart();
}

function renderCart() {
    const list = document.getElementById('cart-items-list');
    const totalSpan = document.getElementById('total-price');
    const countSpan = document.getElementById('cart-count');
    const emptyMsg = document.getElementById('empty-cart-message');

    list.innerHTML = '';
    
    if (cart.length === 0) {
        emptyMsg.style.display = 'block';
    } else {
        emptyMsg.style.display = 'none';
        cart.forEach(item => {
            const li = document.createElement('li');
            li.className = 'cart-item';
            li.innerHTML = `
                <div class="item-details">
                    <span>${item.name} (x${item.quantity})</span>
                    <small>Tamanho: ${item.size} / Cor: ${item.color}</small>
                </div>
                <div>
                    <span style="font-weight: 700;">R$ ${(item.price * item.quantity).toFixed(2)}</span>
                    <a href="#" class="remove-item" onclick="removeFromCart('${item.cartId}')">Remover</a>
                </div>
            `;
            list.appendChild(li);
        });
    }
    
    const total = calculateTotal();
    totalSpan.textContent = `R$ ${total.toFixed(2)}`;
    countSpan.textContent = cart.reduce((count, item) => count + item.quantity, 0);
}

// --- FUN√á√ÉO DE CHECKOUT (INTEGRA√á√ÉO CAKTO) ---

function checkout() {
    if (cart.length === 0) {
        alert('Seu carrinho est√° vazio! Adicione produtos para prosseguir.');
        return;
    }

    const name = document.getElementById('name').value;
    const whatsapp = document.getElementById('whatsapp').value;
    const address = document.getElementById('address').value;
    const city = document.getElementById('city').value;
    const email = document.getElementById('email').value;

    // Valida√ß√£o b√°sica do formul√°rio de envio
    if (!name || !whatsapp || !address || !city) {
        alert('Por favor, preencha todos os dados de envio (Nome, WhatsApp, Endere√ßo e Cidade/CEP) para finalizar a compra.');
        return;
    }

    // Monta o resumo do pedido para o Cakto
    let orderSummary = `*PEDIDO BIQU√çNIS VER√ÉO*\n\n`;
    orderSummary += `*Cliente:* ${name}\n`;
    orderSummary += `*WhatsApp:* ${whatsapp}\n`;
    orderSummary += `*E-mail:* ${email || 'N√£o informado'}\n`;
    orderSummary += `*Endere√ßo:* ${address}, ${city}\n\n`;
    orderSummary += `*ITENS:*\n`;

    cart.forEach(item => {
        orderSummary += `- ${item.name}\n  (Tamanho: ${item.size} / Cor: ${item.color})\n  *Qtd:* ${item.quantity} x R$ ${item.price.toFixed(2)} = R$ ${(item.price * item.quantity).toFixed(2)}\n`;
    });

    orderSummary += `\n*TOTAL GERAL: R$ ${calculateTotal().toFixed(2)}*`;
    orderSummary += `\n\n*Aguardando link de pagamento Cakto...*`;

    // A√ß√£o Principal: Enviar para o checkout Cakto via WhatsApp
    // SEU N√öMERO DE WHATSAPP INSERIDO AQUI:
    const whatsappNumber = "351937460939"; 
    const encodedMessage = encodeURIComponent(orderSummary);
    const whatsappLink = `https://api.whatsapp.com/send?phone=${whatsappNumber}&text=${encodedMessage}`;

    alert("Pedido finalizado! Voc√™ ser√° redirecionado para o WhatsApp para confirmar o pagamento via Cakto.");
    window.open(whatsappLink, "_blank");

    // Limpar o carrinho e o formul√°rio ap√≥s a finaliza√ß√£o
    cart = [];
    renderCart();
    document.getElementById('shipping-form').reset();
    closeCart();
}

// --- INICIALIZA√á√ÉO ---
document.addEventListener('DOMContentLoaded', () => {
    renderProducts();
    renderCart(); 
});
</script>

</body>
</html>
