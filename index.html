<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Loja de Biquínis</title>
<style>
  body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: #fff0f5; }
  header { background: #ff69b4; color: white; padding: 20px; text-align: center; }
  h1 { margin: 0; }
  .container { display: flex; flex-wrap: wrap; justify-content: center; padding: 20px; gap: 15px; }
  .product { background: white; border-radius: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.2); width: 220px; text-align: center; padding: 15px; transition: transform 0.2s; }
  .product:hover { transform: scale(1.05); }
  .product img { width: 100%; border-radius: 10px; }
  .product h3 { font-size: 1.1rem; margin: 10px 0 5px 0; }
  .product p { margin: 5px 0; font-weight: bold; color: #ff1493; }
  .product button { background: #ff69b4; color: white; border: none; padding: 10px; border-radius: 5px; cursor: pointer; width: 100%; margin-top: 10px; }
  .product button:hover { background: #ff1493; }
  #cart { position: fixed; top: 20px; right: 20px; background: white; padding: 15px; border-radius: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.2); width: 280px; max-height: 80vh; overflow-y: auto; }
  #cart h2 { margin-top: 0; }
  #cart-items { list-style: none; padding: 0; margin: 0; }
  #cart-items li { display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 0.95rem; align-items: center; }
  /* Estilo adicional para os botões de remover dentro do carrinho */
  #cart-items li button { background: #dc3545; color: white; border: none; padding: 3px 6px; font-size: 0.75rem; border-radius: 3px; cursor: pointer; margin-left: 10px; }
  #checkout { background: #ff69b4; color: white; border: none; padding: 10px; border-radius: 5px; width: 100%; cursor: pointer; margin-top: 10px; }
  #checkout:hover { background: #ff1493; }
  @media(max-width:768px){
    .container { flex-direction: column; align-items: center; }
    #cart { position: static; width: 90%; margin: 20px auto; }
  }
</style>
</head>
<body>

<header>
  <h1>Loja de Biquínis</h1>
</header>

<div class="container" id="products">
  </div>

<div id="cart">
  <h2>Carrinho</h2>
  <ul id="cart-items"></ul>
  <button id="checkout">Finalizar Compra</button>
</div>

<script>
const products = [
  { id: 1, name: "Biquíni Floral", price: 79.90, img: "https://i.ibb.co/WxxYv8P/bikini1.jpg", link: "SEU_LINK_CAKTO_1" },
  { id: 2, name: "Biquíni Preto", price: 99.90, img: "https://i.ibb.co/2nV7D7f/bikini2.jpg", link: "SEU_LINK_CAKTO_2" },
  { id: 3, name: "Biquíni Listrado", price: 89.90, img: "https://i.ibb.co/xmVcnqq/bikini3.jpg", link: "SEU_LINK_CAKTO_3" },
  { id: 4, name: "Biquíni Neon", price: 109.90, img: "https://i.ibb.co/3C2j3yZ/bikini4.jpg", link: "SEU_LINK_CAKTO_4" },
  { id: 5, name: "Biquíni Rosa Chiclete", price: 69.90, img: "https://i.ibb.co/5sF0kR1/bikini5.jpg", link: "SEU_LINK_CAKTO_5" },
  { id: 6, name: "Biquíni Verde Água", price: 79.90, img: "https://i.ibb.co/7zZ4j6G/bikini6.jpg", link: "SEU_LINK_CAKTO_6" },
  { id: 7, name: "Biquíni Azul Marinho", price: 99.90, img: "https://i.ibb.co/4Y9Ht2M/bikini7.jpg", link: "SEU_LINK_CAKTO_7" },
  { id: 8, name: "Biquíni Laranja Neon", price: 89.90, img: "https://i.ibb.co/Zc08m2G/bikini8.jpg", link: "SEU_LINK_CAKTO_8" },
  { id: 9, name: "Biquíni Estampado", price: 109.90, img: "https://i.ibb.co/5M7r8wY/bikini9.jpg", link: "SEU_LINK_CAKTO_9" },
  { id: 10, name: "Biquíni Vermelho Paixão", price: 79.90, img: "https://i.ibb.co/f4ZkF8s/bikini10.jpg", link: "SEU_LINK_CAKTO_10" },
  { id: 11, name: "Biquíni Amarelo Sol", price: 69.90, img: "https://i.ibb.co/8bQj4k5/bikini11.jpg", link: "SEU_LINK_CAKTO_11" },
  { id: 12, name: "Biquíni Branco Clássico", price: 99.90, img: "https://i.ibb.co/KX9yZ3n/bikini12.jpg", link: "SEU_LINK_CAKTO_12" },
  { id: 13, name: "Biquíni Roxo Lavanda", price: 89.90, img: "https://i.ibb.co/7VkTbXG/bikini13.jpg", link: "SEU_LINK_CAKTO_13" },
  { id: 14, name: "Biquíni Turquesa", price: 109.90, img: "https://i.ibb.co/Gc6m9Df/bikini14.jpg", link: "SEU_LINK_CAKTO_14" },
  { id: 15, name: "Biquíni Preto e Branco", price: 79.90, img: "https://i.ibb.co/YbXz1xK/bikini15.jpg", link: "SEU_LINK_CAKTO_15" },
];

let cart = [];

/**
 * Renderiza os produtos na página principal.
 */
function renderProducts() {
    const container = document.getElementById('products');
    container.innerHTML = '';
    products.forEach(p => {
        const div = document.createElement('div');
        div.className = 'product';
        div.innerHTML = `
            <img src="${p.img}" alt="${p.name}">
            <h3>${p.name}</h3>
            <p>R$ ${p.price.toFixed(2)}</p>
            <button onclick="addToCart(${p.id})">Adicionar ao Carrinho</button>
        `;
        container.appendChild(div);
    });
}

/**
 * Adiciona um produto ao carrinho ou aumenta sua quantidade.
 * @param {number} productId O ID do produto a ser adicionado.
 */
function addToCart(productId) {
    const product = products.find(p => p.id === productId);
    if (!product) return;

    const cartItem = cart.find(item => item.id === productId);

    if (cartItem) {
        cartItem.quantity++;
    } else {
        cart.push({
            id: product.id,
            name: product.name,
            price: product.price,
            link: product.link,
            quantity: 1
        });
    }
    renderCart();
}

/**
 * Remove um item do carrinho.
 * @param {number} productId O ID do produto a ser removido.
 */
function removeFromCart(productId) {
    cart = cart.filter(item => item.id !== productId);
    renderCart();
}

/**
 * Calcula o total do carrinho.
 * @returns {number} O valor total.
 */
function calculateTotal() {
    return cart.reduce((total, item) => total + (item.price * item.quantity), 0);
}

/**
 * Renderiza o conteúdo do carrinho (itens e total).
 */
function renderCart() {
    const cartItemsContainer = document.getElementById('cart-items');
    cartItemsContainer.innerHTML = '';

    if (cart.length === 0) {
        cartItemsContainer.innerHTML = '<li style="justify-content: center;">Carrinho vazio.</li>';
    } else {
        cart.forEach(item => {
            const li = document.createElement('li');
            // Elemento que junta nome e quantidade
            const nameAndQty = document.createElement('span');
            nameAndQty.textContent = `${item.name} (x${item.quantity})`;
            nameAndQty.style.flexGrow = 1; // Permite que o nome ocupe mais espaço

            // Elemento que mostra o preço
            const priceSpan = document.createElement('span');
            priceSpan.style.fontWeight = 'bold';
            priceSpan.textContent = `R$ ${(item.price * item.quantity).toFixed(2)}`;

            // Botão de remover
            const removeButton = document.createElement('button');
            removeButton.textContent = 'x';
            removeButton.onclick = () => removeFromCart(item.id);

            li.appendChild(nameAndQty);
            li.appendChild(priceSpan);
            li.appendChild(removeButton);
            cartItemsContainer.appendChild(li);
        });
        
        // Adiciona o total
        const total = calculateTotal();
        const liTotal = document.createElement('li');
        liTotal.style.marginTop = '10px';
        liTotal.style.borderTop = '1px solid #eee';
        liTotal.style.paddingTop = '10px';
        // Ajusta o layout do total para ficar limpo
        liTotal.innerHTML = `
            <span style="font-weight: bold;">Total:</span>
            <span style="font-weight: bold; color: #ff1493; margin-left: auto;">R$ ${total.toFixed(2)}</span>
        `;
        cartItemsContainer.appendChild(liTotal);
    }
}

/**
 * Função para simular o checkout.
 */
function checkout() {
    if (cart.length === 0) {
        alert('Seu carrinho está vazio! Adicione alguns biquínis antes de finalizar a compra. 🛍️');
        return;
    }

    let summary = 'Resumo do Pedido:\n';
    cart.forEach(item => {
        summary += `- ${item.name} (x${item.quantity}): R$ ${(item.price * item.quantity).toFixed(2)}\n`;
    });
    const total = calculateTotal();
    summary += `\nTotal Geral: R$ ${total.toFixed(2)}`;

    alert(`Compra finalizada! 🎉\n\n${summary}\n\n*Redirecionando para o link de pagamento...*`);

    // Redireciona para um link de checkout (exemplo: o link do primeiro item)
    if (cart[0] && cart[0].link && cart[0].link !== "SEU_LINK_CAKTO_1") {
        window.open(cart[0].link, "_blank");
    } else {
        // Alerta para substituir os links
        alert("Lembre-se de substituir 'SEU_LINK_CAKTO_X' pelos seus links de pagamento reais!");
    }
    
    // Esvaziar o carrinho após o checkout
    cart = [];
    renderCart();
}

// Inicialização: Renderiza os produtos e configura o botão de checkout
document.addEventListener('DOMContentLoaded', () => {
    renderProducts();
    renderCart(); // Renderiza o carrinho vazio na inicialização
    document.getElementById('checkout').addEventListener('click', checkout);
});
</script>

</body>
</html>